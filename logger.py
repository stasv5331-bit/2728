# ================ logger.py ================
"""
logger.py - Настройка системы логирования в функциональном стиле

Этот модуль настраивает систему записи логов для всего приложения.
Логи сохраняются в файл app.log с информацией о времени, уровне важности и сообщении.
"""

import logging

# Базовая конфигурация логирования в функциональном стиле
# Используется лямбда-функция для отложенной инициализации
configure_logger = lambda: logging.basicConfig(
    filename="app.log",          # Имя файла для записи логов
    level=logging.INFO,          # Минимальный уровень логирования: INFO и выше
    format="%(asctime)s - %(levelname)s - %(message)s",  # Формат записи
    encoding="utf-8"             # Кодировка файла для поддержки русских символов
)

# Применяем конфигурацию - этот вызов выполняется при импорте модуля
configure_logger()

# Создаем логгер с именем "app_logger"
# Имя позволяет идентифицировать источник сообщений в логах
logger = logging.getLogger("app_logger")

# Утилитарные функции для работы с логгером в функциональном стиле
# Эти функции упрощают использование логгера в других модулях

set_log_level = lambda level: logger.setLevel(level)
"""
Устанавливает новый уровень логирования.
Пример использования: set_log_level("DEBUG") включает отладку
"""

log_info = lambda msg: logger.info(msg)
"""
Записывает информационное сообщение в лог.
Используется для обычных действий пользователя.
"""

log_error = lambda msg: logger.error(msg)
"""
Записывает сообщение об ошибке.
Используется при возникновении исключительных ситуаций.
"""

log_warning = lambda msg: logger.warning(msg)
"""
Записывает предупреждающее сообщение.
Используется для потенциально проблемных ситуаций.
"""

disable_logging = lambda: (
    logger.setLevel("CRITICAL"),  # Устанавливаем самый высокий уровень фильтрации
    logger.critical("Логирование отключено")  # Записываем последнее сообщение
)
"""
Отключает логирование, устанавливая уровень CRITICAL.
После этого будут записываться только критические ошибки.
"""